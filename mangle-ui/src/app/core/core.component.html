<div class="main-container">
    <header class="header header-7">
        <div class="branding">
			<a href="#" class="nav-link" [routerLink]="['home']">
				<clr-icon shape="vm-bug"></clr-icon>
				<span class="title">Mangle</span>
			</a>
		</div>
		<div class="header-actions">
			<clr-dropdown>
				<button class="nav-text" *ngIf="user" clrDropdownTrigger>
					{{ user }}<clr-icon shape="caret down"></clr-icon>
				</button>
				<clr-dropdown-menu *clrIfOpen clrPosition="bottom-right">
					<a href="#" [routerLink]="['password']" clrDropdownItem *ngIf="domain == 'mangle.local'">Change Password</a>
					<button class="btn btn-link" (click)="logout();">Log out</button>
				</clr-dropdown-menu>
			</clr-dropdown>
			<a class="nav-link nav-icon" href="#" [routerLink]="['setting']" routerLinkActive="active" *ngIf="isAdminUser"><clr-icon shape="cog"></clr-icon></a>
			<clr-dropdown>
				<button class="nav-text" clrDropdownTrigger>
					<clr-icon shape="help" size="24"></clr-icon>
				</button>
				<clr-dropdown-menu *clrIfOpen clrPosition="bottom-right">
					<a href="swagger-ui.html" target="_blank" clrDropdownItem>API Documentation</a>
					<a href="https://vmware-1.gitbook.io/mangle/sre-developers-and-users" target="_blank" clrDropdownItem>User Guide</a>
          <button (click)="showAboutModal=true" clrDropdownItem>About Mangle</button>
				</clr-dropdown-menu>
			</clr-dropdown>
		</div>
    </header>
    <nav class="subnav">
		<ul class="nav">
			<li class="nav-item">
				<a class="nav-link" href="#" [routerLink]="['home']" routerLinkActive="active"><clr-icon shape="home" class="is-solid"></clr-icon></a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="#" [routerLink]="['endpoint']" routerLinkActive="active"><span class="nav-text">Endpoint</span></a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="#" [routerLink]="['fault']" routerLinkActive="active"><span class="nav-text">Fault Execution</span></a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="#" [routerLink]="['requests']" routerLinkActive="active"><span class="nav-text">Requests & Reports</span></a>
			</li>
		</ul>
	</nav>
    <div class="content-container">
        <div class="content-area">
            <router-outlet></router-outlet>
        </div>
    </div>
</div>


<clr-modal [(clrModalOpen)]="showAboutModal" [clrModalClosable]="false" [clrModalSize]="'lg'">
  <div class="modal-title">
    <h3>VMwareÂ® Mangle</h3>
    <p></p>
    <h4><strong>Version: {{mangleVersion}}</strong></h4>
    <button aria-label="Close" class="close" type="button" (click)="showAboutModal=false">
      <clr-icon aria-hidden="true" shape="close"></clr-icon>
    </button>
  </div>
  <div class="modal-body">
    <p>
      Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.
      This product is licensed to you under the Apache License, Version 2.0 (the "License").
      <br>
      <br>
      You may not use this product except in compliance with the License.
      This product may include a number of subcomponents with separate copyright notices
      and license terms. Your use of these subcomponents is subject to the terms and
      conditions of the subcomponent's license, as noted in the LICENSE file.
      <br>
      <br>
      Contact us at <a href="mailto:mangle@vmware.com">mangle@vmware.com</a>
    </p>
  </div>
</clr-modal>

